<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Criminals Showcase ‚Äì JSON Data</title>
  <style>
    body {
      font-family: "Inter", sans-serif;
      background: #f8fafc;
      margin: 0; padding: 0; color: #1e293b;
    }
    header {
      background: linear-gradient(135deg, #1e3a8a, #2563eb, #3b82f6);
      color: white; text-align: center;
      padding: 1rem; font-size: 1.8rem;
      font-weight: bold; position: sticky; top: 0; z-index: 100;
      box-shadow: 0 4px 12px rgba(0,0,0,0.25);
    }
    header span {
      display: block;
      font-size: 0.9rem;
      font-weight: 400;
      margin-top: 0.3rem;
      color: #e0e7ff;
    }
    h2 { margin: 1.5rem 1rem 1rem; font-size: 1.3rem; }
    .slider-container {
      overflow: hidden; margin: 0 1rem 2rem;
      border-radius: 1rem; background: #fff;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      position: relative;
    }
    .slider-track {
      display: flex; gap: 1rem; padding: 1rem;
      overflow: hidden; scroll-behavior: smooth;
    }
    .card {
      min-width: 180px; border-radius: 0.8rem; background: #f9fafb;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08); flex-shrink: 0;
      cursor: pointer; padding: 1rem; text-align: center;
      transition: transform 0.25s ease, box-shadow 0.25s ease;
    }
    .card:hover { transform: translateY(-5px); box-shadow: 0 6px 16px rgba(0,0,0,0.12);}
    .card h3 { margin: 0 0 0.4rem; font-size: 1rem; }
    .status { display: inline-block; font-size: 0.8rem; padding: 0.2rem 0.6rem; border-radius: 999px; }
    .Wanted { background: #ef4444; color: #fff; }
    .Convicted { background: #22c55e; color: #fff; }
    .Under\ Trial, .UnderTrial { background: #facc15; color: #000; }

    /* Modal */
    .modal {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.6); display: none; justify-content: center;
      align-items: center; z-index: 1000;
    }
    .modal-content {
      background: #fff; padding: 1.5rem; border-radius: 1rem;
      width: 90%; max-width: 420px; text-align: center;
    }
    .close { margin-top: 1rem; padding: 0.5rem 1rem; background: #ef4444; color: #fff; border: none; border-radius: 0.5rem; cursor: pointer; }
    .source-link { display: block; margin-top: 0.8rem; font-size: 0.9rem; color: #2563eb; text-decoration: none; }
  </style>
</head>
<body>
  <header>
    Criminals Showcase
    <span>‚õî A record of Drugs, Rapists & Murderers ‚õî</span>
  </header>

  <h2>üö¨ Drugs Mafia</h2>
  <div class="slider-container"><div class="slider-track" id="drugs"></div></div>

  <h2>‚ö†Ô∏è Rapists</h2>
  <div class="slider-container"><div class="slider-track" id="rapists"></div></div>

  <h2>üî™ Murderers</h2>
  <div class="slider-container"><div class="slider-track" id="murderers"></div></div>

  <!-- Modal -->
  <div class="modal" id="modal">
    <div class="modal-content">
      <h2 id="modal-name"></h2>
      <p id="modal-status"></p>
      <p id="modal-explanation"></p>
      <a id="modal-source" href="#" target="_blank" class="source-link">Read more</a>
      <button class="close" id="close">Close</button>
    </div>
  </div>

  <script>
    const modal = document.getElementById("modal");
    const modalName = document.getElementById("modal-name");
    const modalStatus = document.getElementById("modal-status");
    const modalExplanation = document.getElementById("modal-explanation");
    const modalSource = document.getElementById("modal-source");
    const closeBtn = document.getElementById("close");

    let activeSlider = null;

    // Infinite Auto scroll function
    function startAutoScroll(track) {
      let scrollSpeed = 1; 
      let animationFrame;

      function step() {
        if (track !== activeSlider) {
          track.scrollLeft += scrollSpeed;
          // ‡§ú‡§¨ ‡§Ü‡§ß‡•á duplicate cards ‡§§‡§ï ‡§™‡§π‡•Å‡§Å‡§ö ‡§ú‡§æ‡§è ‡§§‡•ã reset
          if (track.scrollLeft >= track.scrollWidth / 2) {
            track.scrollLeft = 0;
          }
        }
        animationFrame = requestAnimationFrame(step);
      }
      step();

      // Manual drag control
      let isDown = false;
      let startX, scrollLeft;
      track.addEventListener("mousedown", e => {
        isDown = true;
        startX = e.pageX - track.offsetLeft;
        scrollLeft = track.scrollLeft;
        cancelAnimationFrame(animationFrame);
      });
      track.addEventListener("mouseleave", () => { isDown = false; });
      track.addEventListener("mouseup", () => {
        isDown = false;
        if (track !== activeSlider) step();
      });
      track.addEventListener("mousemove", e => {
        if (!isDown) return;
        e.preventDefault();
        const x = e.pageX - track.offsetLeft;
        const walk = (x - startX);
        track.scrollLeft = scrollLeft - walk;
      });
    }

    // Load JSON
    fetch("data.json")
      .then(res => res.json())
      .then(data => {
        ["drugs","rapists","murderers"].forEach(type => {
          const track = document.getElementById(type);

          // Create cards
          function makeCards(criminals) {
            criminals.forEach(criminal => {
              const card = document.createElement("div");
              card.className = "card";
              card.innerHTML = `<h3>${criminal.name}</h3>
                                <span class="status ${criminal.status.replace(" ","")}">${criminal.status}</span>`;
              card.addEventListener("click", () => {
                modalName.textContent = criminal.name;
                modalStatus.textContent = "Status: " + criminal.status;
                modalExplanation.textContent = criminal.explanation;
                modalSource.href = criminal.source;
                modal.style.display = "flex";
                activeSlider = track;
              });
              track.appendChild(card);
            });
          }

          // append 2x for infinite scroll
          makeCards(data[type]);
          makeCards(data[type]);

          startAutoScroll(track);
        });
      });

    closeBtn.addEventListener("click", () => {
      modal.style.display = "none";
      activeSlider = null;
    });
  </script>
</body>
</html>
